{% extends "docs/layout.html" %}

{% block title %}{% parent %} » Filters{% endblock %}

{% block content %}

<section>
  <h1>Variable Filters</h1>

  <p>Used to modify variables. Filters are added directly after variable names, separated by the pipe (<code>|</code>) character. You can chain multiple filters together, applying one after the other in succession.</p>

  <h2>Example</h2>

  <pre><samp>{% raw %}{{ name|title }} was born on {{ birthday|date('F jS, Y') }} and has {{ bikes|length|default("zero") }} bikes.{% endraw %}</samp></pre>

  <p>Filters can also be applied to blocks of content directly with the <a href="tags.md#filter">filter tag</a>.</p>

  <pre><samp>{% raw %}{% filter upper %}oh hi, paul{% endfilter %}{% endraw %}</samp></pre>

  <ul>
    {% for f in filters %}
    <li><a href="#{{ loop.key }}">{{ loop.key }}</a></li>
    {% endfor %}
  </ul>

  {% for f in filters %}
  <article id="{{ loop.key }}">
    <h1>{{ f.title }}</h1>
    <p>{{ f.desc }}</p>
    {% if f.args|length %}
    <h2>Arguments</h2>
    <ol>
      {% for arg in f.args %}
      <li><var>{{ arg.name }}</var> <code>{{ arg.type }}</code> {% if arg.optional %}<i>optional</i>{% endif %} {{ arg.desc|raw }}</li>
      {% endfor %}
    </ol>
    {% endif %}
    {% include f.inc ignore missing %}
  </article>
  {% endfor %}


    <h3>first</h3>

    <p>Returns the first element of an array. Uses <a href="http://documentcloud.github.com/underscore/#first">underscore.js first</a></p>

    <h3>join(glue)</h3>

    <p>If the value is an Array, you can join each value with a delimiter and return it as a string.</p>

    <h4>Arguments</h4>

    <ol>
      <li><var>glue</var> (_string_) Concatenation string to join each item in the array with.</li>
    </ol>

    <h3>json_encode(indent)</h3>

    <p>Return a JSON string of the variable, optionally pretty-printing the string if <strong>indent</strong> is specified.</p>

    <h4>Arguments</h4>

    <ol>
      <li><var>indent</var> (_number_) _optional_ if greater than zero, the JSON will be pretty-printed using the number of spaces specified by the <strong>indent</strong> parameter.</li>
    </ol>

    <h3>last</h3>

    <p>Returns the last element of an array. Uses <a href="http://documentcloud.github.com/underscore/#last">underscore.js last</a></p>

    <h3>length</h3>

    <p>Return the <code>length</code> property of the variable. If the variable is an object, this will return the length of the keys on the object.</p>

    <h3>lower</h3>

    <p>Return the variable in all lowercase letters.</p>

    <h3>raw</h3>

    <p>Do not escape the output of the variable.</p>

    <h3>replace(search, replace[, flags])</h3>

    <p>Uses built-in JavaScript replace method. Provide a regular-expression or a string and a replacement string.</p>

    <h4>Arguments</h4>

    <ol>
      <li><var>search</var> (_string_) string converted to a regular expression. Example: <code>'\s'</code> will become <code>/\s/</code>, while <code>'s'</code> will become <code>/s/</code></li>
      <li><var>replace</var> (_string_) a string to replace the matched parts from <var>search</var></li>
      <li><var>flags</var> (_string_) _optional_ Regular expression flags. <a href="https://developer.mozilla.org/en/JavaScript/Guide/Regular_Expressions#Advanced_Searching_With_Flags">[reference]</a></li>
    </ol>

    <h3>reverse</h3>

    <p>If the value is an Array, this filter will reverse all items in the array.</p>

    <h3>striptags</h3>

    <p>Strip all HTML/XML tags.</p>

    <h3>title</h3>

    <p>Change the output to title case–the first letter of every word will uppercase, while all the rest will be lowercase.</p>

    <h3>uniq</h3>

    <p>Produces a duplicate-free version of the array. Uses <a href="http://documentcloud.github.com/underscore/#uniq">underscore.js uniq</a></p>

    <h3>upper</h3>

    <p>Return the variable in all uppercase letters</p>

    <h3>url_encode</h3>

    <p>Encode a URI component.</p>

    <h3>url_decode</h3>

    <p>Decode a URI component.</p>

    <h2>Writing Custom Filters</h2>

    <p>Custom filters are very easy to write for your own project that uses Swig.</p>

    <p>Create a file called <code>myfilters.js</code> and include it in the Swig init function:</p>

    <pre><code>swig.init({ filters: require('myfilters') });
    </code></pre>

    <p>In your <code>myfilters.js</code> file, each filter method is just a simple javascript method. For example, here's a filter to make a variable all lowercase:</p>

    <pre><code>exports.lower = function (input) {
      return input.toString().toLowerCase();
    };
  </code></pre>

</section>
{% endblock %}
