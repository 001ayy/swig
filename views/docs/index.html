{% extends "docs/layout.html" %}

{% block content %}
<h1>Documentation</h1>

<section>
  <h1 id="basics">Basics</h1>

  <section id="variables">
    <h2>Variables</h2>

    <p>Variables that are passed to templates can be output using double-curly-brackets: <code data-language="swig">{{ foo }}</code>.</p>

    <p>Accessing properties of objects can be done using either dot-notation or bracket-notation. The following examples are equivalent:</p>

    <ul>
      <li><code data-language="swig">{% raw %}{{ foo.bar }}{% endraw %}</code></li>
      <li><code data-language="swig">{% raw %}{{ foo['bar'] }}{% endraw %}</code></li>
    </ul>

    <p>If a variable is not defined, don't worry, your template won't explode. Instead, an empty-string will be output in its place.</p>

    <p>Variables can be modified using using special, chainable control structures called <a href="#filters">Filters</a>:</p>

    <pre><code data-language="swig">{% raw %}{{ name|title }} was born on {{ birthday|date('F jS, Y') }}{% endraw %}</code></pre>

    <samp>Jane was born on July 6th, 1985</samp>
  </section>

  <section id="logic">
    <h2>Logic Tags</h2>

    <p>Swig includes some basic operational blocks, called <a href="#tags">Tags</a>, for helping you control output on a larger scale than variables. Tags are written using curly-percent syntax: <code data-language="swig">{% if foo %}bar{% endif %}</code>.</p>

    <p>View the <a href="#tags">Tags documentation</a> for a full list of tags and usage instructions.</p>
  </section>

  <section id="comments">
    <h2>Comments</h2>

    <p>Comment tags are simply ignored by the parser. They will removed before your templates are rendered so that no one can see them unless they have access to your source code. Comments are written using the curly-hash syntax:</p>

    <pre><code data-language="swig">{% raw %}{# this is a comment #}{% endraw %}</code></pre>
  </section>

  <section id="whitespace">
    <h2>Whitespace Control</h2>

    <p>Any whitespace in your templates is left in your final output templates. However, you can control the whitespace around logic tags by using whitespace controls.</p>

    <p>To remove whitespace, simply put a dash (<code data-language="swig">-</code>) at the beginning or end of your tag to remove the preceding or following whitespace, respectively.</p>

    <pre><code data-language="swig">{% raw %}{% for item in seq -%}
  {{ item }}
{%- endfor %}{% endraw %}</code></pre>

  <p>If <code data-language="swig">seq</code> is an array of numbers, <samp>1</samp> through <samp>5</samp>, the output of the above example will be void of whitespace: <samp>12345</samp>.</p>
  </section>
</section>

<hr>

<section>
  <h1 id="inheritance">Template Inheritance</h1>

  <p>Swig uses <code data-language="swig">extends</code> &amp; <code data-language="swig">block</code> for template inheritance.</p>

  <h2>layout.html</h2>
  <pre><code data-language="swig">{% raw %}&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;{% block title %}My Site{% endblock %}&lt;/title&gt;

  {% block head %}
  &lt;link rel="stylesheet" href="main.css"&gt;
  {% endblock %}
&lt;/head&gt;
&lt;body&gt;
  {% block content %}{% endblock %}
&lt;/body&gt;
&lt;/html&gt;{% endraw %}</code></pre>

  <h2>index.html</h2>
  <pre><code data-language="swig">{% raw %}{% extends 'layout.html' %}

{% block title %}My Page{% endblock %}

{% block head %}
  {% parent %}
  &lt;link rel="stylesheet" href="custom.css"&gt;
{% endblock %}

{% block content %}
&lt;p&gt;This is just an awesome page.&lt;/p&gt;
{% endblock %}{% endraw %}</code></pre>
</section>

<hr>

<section>
  <h1 id="filters">Variable Filters</h1>

  <p>Used to modify variables. Filters are added directly after variable names, separated by the pipe (<code data-language="swig">|</code>) character. You can chain multiple filters together, applying one after the other in succession.</p>

  <h2>Example</h2>

  <pre><code data-language="swig">{% raw %}{{ name|title }} was born on {{ birthday|date('F jS, Y') }}
and has {{ bikes|length|default("zero") }} bikes.{% endraw %}</code></pre>

  <p>Filters can also be applied to blocks of content directly with the <a href="#tags-filter">filter tag</a>.</p>

  <pre><code data-language="swig">{% raw %}{% filter upper %}oh hi, paul{% endfilter %}{% endraw %}</code></pre>

  <h2 id="filters-built-in">Built-In Filters</h2>
  {% for f in filters %}
  <article id="filters-{{ loop.key }}" class="doc">
    <h1><code data-language="swig">{{ f.title }}</code></h1>
    <p>{{ f.desc|raw }}</p>
    {% if f.args|length %}
    <h2>Arguments</h2>
    <dl>
      {% for arg in f.args %}
      <dt><var>{{ arg.name }}</var></dt>
      <dd><code data-language="swig">{{ arg.type }}</code></dd>
      {% if arg.optional %}<dd><i>optional</i></dd>{% endif %}
      <dd>{{ arg.desc|raw }}</dd>
      {% endfor %}
    </dl>
    {% endif %}
    {% if f.inc %}
      {% include f.inc ignore missing %}
    {% endif %}
  </article>
  {% endfor %}

  <article id="filters-custom">
    <h1>Custom Filters</h1>

    <p>Custom filters are very easy to write for your own project that uses Swig.</p>

    <p>Create a file called <code>myfilters.js</code> and include it in the Swig init function:</p>

    <pre><code data-language="javascript">swig.init({ filters: require('myfilters') });</code></pre>

    <p>In your <code>myfilters.js</code> file, each filter method is just a simple javascript method. For example, here's a filter to make a variable all lowercase:</p>

    <pre><code data-language="javascript">exports.lower = function (input) {
  return input.toString().toLowerCase();
};</code></pre>
  </article>
</section>

<hr>

<section>
<h1 id="tags">Tags</h1>

  <section>
    <h1 id="tags-built-in">Built-in Tags</h1>

    {% for tag in tags %}
    <article id="tags-{{ loop.key }}" class="doc">
      <h1><code data-language="swig">{{ loop.key }}</code></h1>

      <p>{{ tag.desc|raw }}</p>

      {% if tag.args|length %}
      <h2>Arguments</h2>
      <dl>
        {% for arg in tag.args %}
        <dt><var>{{ loop.key|raw }}</var></dt>
        <dd><code>{{ arg.types|join(', ') }}</code></dd>
        {% if arg.optional %}<dd><i>optional</i></dd>{% endif %}
        <dd>{{ arg. desc|raw }}</dd>
        {% if arg.default %}<dd>Defaults to <code data-language="swig">{{ arg.default }}</code></dd>{% endif %}
        {% endfor %}
      </dl>
      {% else %}
      <p><em>Accepts no arguments.</em></p>
      {% endif %}

      {% if tag.inc %}
        {% include tag.inc ignore missing %}
      {% endif %}
    </article>
    {% endfor %}
  </section>

  <hr>

  <article id="tags-custom">
    {% include "docs/tags/custom.html" %}
  </article>
</section>

<hr>
{% endblock %}

{% block section_nav %}
<nav>
  <ol class="sidenav">
    <li>
      <a href="#basics">Basics</a>
      <ol>
        <li><a href="#variables">Variables</a></li>
        <li><a href="#logic">Logic Tags</a></li>
        <li><a href="#comments">Comments</a></li>
        <li><a href="#whitespace">Whitespace Control</a></li>
      </ol>
    </li>
    <li>
      <a href="#inheritance">Template Inheritance</a>
      {% block inheritance_subnav %}{% endblock %}
    </li>
    <li>
      <a href="#filters">Filters</a>
      <ol>
        <li>
          <a href="#filters-built-in">Built-In Filters</a>
          <ol>
          {% for f in filters %}
            <li><a href="#filters-{{ loop.key }}">{{ loop.key }}</a></li>
          {% endfor %}
          </ol>
        </li>
        <li><a href="#filters-custom">Custom Filters</a></li>
      </ol>
    </li>
    <li>
      <a href="#tags">Tags</a>
      <ol>
        <li>
          <a href="#tags-built-in">Built-In Tags</a>
          <ol>
          {% for tag in tags %}
            <li><a href="#tags-{{ loop.key }}">{{ loop.key }}</a></li>
          {% endfor %}
          </ol>
        </li>
        <li><a href="#tags-custom">Custom Tags</a></li>
      </ol>
    </li>
  </ol>
</nav>
{% endblock %}
